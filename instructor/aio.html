<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Design: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css">
<script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/intersect/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicons/intersect/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../favicons/intersect/favicon-16x16.png">
<link rel="manifest" href="../favicons/intersect/site.webmanifest">
<link rel="mask-icon" href="../favicons/intersect/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav intersect"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="intersect-logo" alt="Lesson Description" src="../assets/images/intersect-logo.svg"><span class="badge text-bg-warning">
          <abbr title="This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback.">
            <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#field-testing-alpha-stage" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-triangle" style="border-radius: 5px"></i>
              Alpha
            </a>
            <span class="visually-hidden">This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='../aio.html';">Learner View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav intersect" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Lesson Description" src="../assets/images/intersect-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Design
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Design
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<hr>
<li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Design
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress intersect">
    <div class="progress-bar intersect" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../aio.html">Learner View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="introduction.html">1. Introduction</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="design-principles-general.html">2. General Design Principles</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="apply-general-principles.html">3. Design Principles Application</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="research-software-specific.html">4. Design Principles for Reserach Software</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="rs-example.html">5. Research Software Design Example</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="heterogeneity-challenge.html">6. Challenges of Heterogeneity</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="design-for-heterogeneity.html">7. Design for Heterogeneity</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="conclusions.html">8. Conclusions</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <hr>
<li><a class="dropdown-item" href="reference.html">Reference</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="../instructor/aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-introduction"><p>Content from <a href="introduction.html">Introduction</a></p>
<hr>
<p>Last updated on 2025-01-02 |

        <a href="https://github.com/carpentries/workbench-template-md/edit/main/episodes/introduction.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 0 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How to design research software</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>To understand design principles and to be able to apply them to
research software</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="section level1">
<h1 id="why-design">Why Design<a class="anchor" aria-label="anchor" href="#why-design"></a>
</h1>
<ul>
<li>Investing some thought in design of software makes it possible to
maintain, reuse and extend it</li>
<li>Even if some research software (RS) begins its life as a one-off use
case, it often gets reused</li>
<li>Without proper design it is likely to accrete features haphazardly
and become a monstrosity</li>
<li>Acquires a lot of technical debt in the process <img src="../fig/techdebt.png" alt="Tech Debt" class="figure">
</li>
</ul>
<p>Definition from <a href="https://enterprisersproject%5C.com/article/2020/6/technical%5C-debt%5C-explained%5C-plain%5C-english" class="external-link uri">https://enterprisersproject\.com/article/2020/6/technical\-debt\-explained\-plain\-english</a></p>
<p>In many ways technical debt works like monetary debt. If you don’t
pay it off it compounds. The more technical debt you accrue, the more
unmaintainable your software becomes.</p>
<p>Many projects have had this happen to them, and most of them end up
with a hard reset and having to start over again</p>
</div>
<div class="section level1">
<h1 id="in-this-module-we-will-cover-general-design-principles-and-those-that-are-tailored-for-scientific-software">In this module we will cover general design principles and those
that are tailored for scientific software<a class="anchor" aria-label="anchor" href="#in-this-module-we-will-cover-general-design-principles-and-those-that-are-tailored-for-scientific-software"></a>
</h1>
<p>Several books are available on the topic of software design</p>
<figure><img src="../fig/books.png" alt="Books on design" class="figure mx-auto d-block"></figure><p>…. and many more</p>
<p>So why do we have this module in the bootcamp ?</p>
</div>
<div class="section level1">
<h1 id="motivation-and-objectives">Motivation and Objectives<a class="anchor" aria-label="anchor" href="#motivation-and-objectives"></a>
</h1>
<p>The first and foremost reason is the same as for taking any course
that has good textbooks.</p>
<p>A practitioner with experience can make the ideas more accessible.
Instructor can perceive when attendees are not following and therefore
can try to present the same idea with a different approach and/or
perspective. Practitioners also bring their own intuition and experience
to the discussion which tend to enrich the information being imparted in
a classroom setting.</p>
<p>There are other reasons why software design needs to be included in a
research software engineering training. Most of software engineering
research and literature targets enterprise software that is in
production. Literature is sparse even for exploratory enterprise
software. One reason is that understanding the requirements and devising
strategies for design of exploratory software is difficult. For industry
it may not even be a worthwhile expenditure because before being
released and utilized for production all software likely goes through
rigorous quality control.</p>
<p>Research software in academic setting is different because it is also
the production software. Often exploration and production go hand in
hand, which means that quality control is an ongoing process. Therefore
it is important to understand methodologies for designing research
software that meets research goals while maintaining its reliability
without becoming an excessive burden on the developers and the
users.</p>
<figure><img src="../fig/emph.png" alt="explanation" class="figure mx-auto d-block"></figure><div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Investing in design is critical for reliable, maintainable and
extensible software</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div></section><section id="aio-design-principles-general"><p>Content from <a href="design-principles-general.html">General Design Principles</a></p>
<hr>
<p>Last updated on 2025-01-02 |

        <a href="https://github.com/carpentries/workbench-template-md/edit/main/episodes/design-principles-general.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 0 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What are most commonly used design principles?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>To introduce common design principles</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="section level1">
<h1 id="general-design-principles">General Design Principles<a class="anchor" aria-label="anchor" href="#general-design-principles"></a>
</h1>
<div class="section level2">
<h2 id="found-on-the-web">Found on the web<a class="anchor" aria-label="anchor" href="#found-on-the-web"></a>
</h2>
<ul>
<li>Encapsulate what varies</li>
<li>Favor composition over inheritance</li>
<li>Program to interfaces not implementations</li>
<li>Loose coupling – interacting components should have minimal
knowledge about each other</li>
<li>SOLID
<ul>
<li>Single responsibility
<ul>
<li>Class/method/function should do only one thing</li>
</ul>
</li>
<li>Open/closed
<ul>
<li>Open for extension, close for modification</li>
</ul>
</li>
<li>Liskov substitution
<ul>
<li>Implementations of an interface should give same result</li>
</ul>
</li>
<li>Interface segregation
<ul>
<li>Client should not have to use methods it does not need</li>
</ul>
</li>
<li>Dependency inversion
<ul>
<li>High level modules should not depend on low level modules, only on
abstractions</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>These are just some of the links that have more details on these
design principles.</p>
<p><a href="https://www.freecodecamp.org/news/solid-design-principles-in-software-development/" class="external-link uri">https://www.freecodecamp.org/news/solid-design-principles-in-software-development/</a>
<a href="https://www.bmc.com/blogs/solid-design-principles/" class="external-link uri">https://www.bmc.com/blogs/solid-design-principles/</a> <a href="https://bootcamp.uxdesign.cc/software-design-principles-every-developers-should-know-23d24735518e" class="external-link uri">https://bootcamp.uxdesign.cc/software-design-principles-every-developers-should-know-23d24735518e</a></p>
</div>
</div>
<div class="section level1">
<h1 id="designing-software-high-level-phases">Designing Software – High Level Phases<a class="anchor" aria-label="anchor" href="#designing-software-high-level-phases"></a>
</h1>
<figure><img src="../fig/elements.png" alt="elements" class="figure mx-auto d-block"></figure><p>As shown in the figure above, software design has three phases:
requirements gathering, decomposition, and understanding connectivity
with that decomposition. These phases come one after another, though one
can iterate over them as needed.</p>
</div>
<div class="section level1">
<h1 id="requirements-gathering">Requirements Gathering<a class="anchor" aria-label="anchor" href="#requirements-gathering"></a>
</h1>
<p>In the requirement gathering phase the developers gather information
about what is needed from the software. As an extremely simple example
is writing an integer sorter. At first glance it appears that only
requirement is to read in a bunch of integers, sort them in specified
order, and output the sorted numbers. However a few other requirements
may dictate actual implementation. For example:</p>
<ul>
<li>How large is the dataset – will simplest O(N<sup>2</sup>) method
suffice or does one need O(NlogN) method</li>
<li>Is the dataset large enough that a parallel sorting algorithm
needed</li>
<li>Is it a stand-alone code or is it going to be used in another code
(in other words does it handle I/O or needs to have arguments)
<ul>
<li>If it needs I/O then what is format of input and output files</li>
<li>If it has arguments what should the interface look like</li>
</ul>
</li>
</ul>
<p>It may seem like an obvious approach to take, but if you think a
little about what is involved you will realize that failing to get these
specifications will likely accrue some technical debt which will have to
be paid later through modifications in the code.</p>
</div>
<div class="section level1">
<h1 id="decomposition">Decomposition<a class="anchor" aria-label="anchor" href="#decomposition"></a>
</h1>
<p>Once requirements are known one can proceed to design components of
the software. In the sorting example the simplest case of small dataset
to sorted through a function call will have just one components. If it
is a stand-alone piece of software then it may be divided into three
components, one for I/O, one for sorting, and the driver that invokes
the other two components. If it is a stand-alone parallel sorter then it
may either incorporate parallelization in the driver, or may add another
component to handle the parallelization.</p>
</div>
<div class="section level1">
<h1 id="connectivity">Connectivity<a class="anchor" aria-label="anchor" href="#connectivity"></a>
</h1>
<p>This phase of design is devoted to understanding the
interdependencies between components. In the stand-alone parallel
sorting example with a separate parallelization component we infer the
following connectivity:</p>
<ul>
<li>Driver knows all other components and invokes them as needed</li>
<li>I/O is called by the Driver and no other component. If parallel I/O
is being used then it needs to have an interface with the
parallelization component</li>
<li>Sorter is called by the driver, but it also needs access to the
parallelization component</li>
<li>Parallelization component is called by the driver and the sorter. It
may also be called by I/O if we are using parallel I/O</li>
</ul>
<p>One immediate concern that you may have is that this approach is not
compatible with agile methodology. It is not because complete design of
a complex software may need several iterations over the three phases. It
need not all happen before development begins. It can happen anytime
during the development cycle, and in all probability some or all of the
phases may need to be reconsidered as understanding grows.</p>
<p>In the next section we will work through a real life application
design.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>FIXME</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div></section><section id="aio-apply-general-principles"><p>Content from <a href="apply-general-principles.html">Design Principles Application</a></p>
<hr>
<p>Last updated on 2025-01-02 |

        <a href="https://github.com/carpentries/workbench-template-md/edit/main/episodes/apply-general-principles.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 0 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What are some ways of using these principles</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Work through a simple example</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="section level1">
<h1 id="example-1-problem-description">Example 1 – Problem Description<a class="anchor" aria-label="anchor" href="#example-1-problem-description"></a>
</h1>
<p>We have a house with exterior walls made of single material of
thickness <span class="math inline">\(Lx\)</span>. The wall has some
water pipes shown in the picture. The inside temperature is kept at 70
degrees. But outside temperature is expected to be -40 degrees for 15.5
hours.</p>
<p>The question we are trying to answer is – will the pipes freeze
before the storm is over</p>
<figure><img src="../fig/example1.png" alt="example1" class="figure mx-auto d-block"></figure><p>In general, heat <a href="https://en.wikipedia.org/wiki/Thermal_conduction" class="external-link">conduction</a>
is governed by the partial differential (PDE)…</p>
<table class="table">
<colgroup>
<col width="50%">
<col width="50%">
</colgroup>
<tbody><tr class="odd">
<td align="center"><embed src="https://latex.codecogs.com/gif.latex?%5Cfrac%7B%5Cpartial%20u%7D%7B%5Cpartial%20t%7D%20-%20%5Cnabla%20%5Ccdot%20%5Calpha%20%5Cnabla%20u%20%3D%200"></embed></td>
<td align="center">(1)</td>
</tr></tbody>
</table>
<p>where <span class="math inline">\(u\)</span> is the temperature at
spatial positions, <span class="math inline">\(x\)</span>, and times,
<span class="math inline">\(t\)</span>, <span class="math inline">\(\alpha\)</span> is the <em>thermal
diffusivity</em> of the homogeneous material through which heat is
flowing. This partial differential equation (PDE) is known as the
<em>Diffusion Equation</em> and also the <a href="https://en.wikipedia.org/wiki/Heat_equation" class="external-link"><em>Heat
Equation</em></a>.</p>
</div>
<div class="section level1">
<h1 id="simplifying-assumptions">Simplifying Assumptions<a class="anchor" aria-label="anchor" href="#simplifying-assumptions"></a>
</h1>
<p>To make the problem tractable for this lesson, we make some
simplifying assumptions…</p>
<ol style="list-style-type: decimal">
<li>The thermal diffusivity, <span class="math inline">\(\alpha\)</span>, is constant for all
<em>space</em> and <em>time</em>.</li>
<li>The only heat <em>source</em> is from the initial and/or boundary
conditions.</li>
<li>We will deal only with the <em>one dimensional</em> problem in
<em>Cartesian coordinates</em>.</li>
</ol>
<p>In this case, the PDE our application needs to solve simplifies
to…</p>
<table class="table">
<colgroup>
<col width="50%">
<col width="50%">
</colgroup>
<tbody><tr class="odd">
<td align="center"><embed src="https://latex.codecogs.com/gif.latex?%5Cfrac%7B%5Cpartial%20u%7D%7B%5Cpartial%20t%7D%20%3D%20%5Calpha%20%5Cfrac%7B%5Cpartial%5E2%20u%7D%7B%5Cpartial%20x%5E2%7D"></embed></td>
<td align="center">(2)</td>
</tr></tbody>
</table>
<p>The code in the repository has three different numerical
algorithms</p>
<ul>
<li>
<a href="https://en.wikipedia.org/wiki/FTCS_scheme" class="external-link">Foward Time
Centered Space (FTCS)</a>, an <a href="https://en.wikipedia.org/wiki/Explicit_and_implicit_methods" class="external-link">explicit</a>
method</li>
<li>
<a href="https://en.wikipedia.org/wiki/Crank%E2%80%93Nicolson_method" class="external-link">Crank-Nicholson</a>,
an <a href="https://en.wikipedia.org/wiki/Explicit_and_implicit_methods" class="external-link">implicit</a>
method</li>
<li>
<a href="https://en.wikipedia.org/wiki/Upwind_scheme" class="external-link">Upwind-15</a>,
another <a href="https://en.wikipedia.org/wiki/Explicit_and_implicit_methods" class="external-link">explicit</a>
method with higher spatial order than FTCS.</li>
</ul>
<p>We will work through one of them – FTCS</p>
</div>
<div class="section level1">
<h1 id="requirement-gathering">Requirement gathering<a class="anchor" aria-label="anchor" href="#requirement-gathering"></a>
</h1>
<ul>
<li>To solve heat equation we need:
<ul>
<li>a discretization scheme</li>
<li>a driver for running and book-keeping</li>
<li>an integration method to evolve solution</li>
<li>Initial conditions</li>
<li>Boundary conditions</li>
</ul>
</li>
<li>To make sure that we are doing it correctly we need:
<ul>
<li>Ways to inspect the results</li>
<li>Ways of verification</li>
</ul>
</li>
</ul>
</div>
<div class="section level1">
<h1 id="decomposition">Decomposition<a class="anchor" aria-label="anchor" href="#decomposition"></a>
</h1>
<ul>
<li>This is a small design space</li>
<li>Several requirements can directly map to components – in this
instance functions
<ul>
<li>Driver</li>
<li>Initialization – data containers</li>
<li>Mesh initialization – applying initial conditions</li>
<li>Integrator</li>
<li>I/O</li>
<li>Boundary conditions</li>
<li>Comparison utility</li>
</ul>
</li>
<li>Binning components
<ul>
<li>Components that will work for any application of heat equation
<ul>
<li>Driver</li>
<li>Initialization – data containers</li>
<li>I/O</li>
<li>Comparison utility</li>
</ul>
</li>
<li>Components that are application specific
<ul>
<li>Mesh initialization – applying initial conditions</li>
<li>Integrator</li>
<li>Boundary conditions</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section level1">
<h1 id="connectivity">Connectivity<a class="anchor" aria-label="anchor" href="#connectivity"></a>
</h1>
<figure><img src="../fig/conn1.png" alt="placeholder alt text" class="figure mx-auto d-block"></figure>
</div>
<div class="section level1">
<h1 id="connectivity-alternative-possibility">Connectivity – Alternative Possibility<a class="anchor" aria-label="anchor" href="#connectivity-alternative-possibility"></a>
</h1>
<figure><img src="../fig/conn2.png" alt="placeholder alt text" class="figure mx-auto d-block"></figure><div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Understanding process of software design with a simple
application</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div></section><section id="aio-research-software-specific"><p>Content from <a href="research-software-specific.html">Design Principles for Reserach Software</a></p>
<hr>
<p>Last updated on 2025-01-02 |

        <a href="https://github.com/carpentries/workbench-template-md/edit/main/episodes/research-software-specific.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 0 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How do design principles differ for research software</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>To understand design constraints for research software</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="section level1">
<h1 id="research-software-specific-challenges">Research Software Specific Challenges<a class="anchor" aria-label="anchor" href="#research-software-specific-challenges"></a>
</h1>
<figure><img src="../fig/loop.png" alt="placeholder" class="figure mx-auto d-block"></figure><p>For most of research software we have a positive feedback loop. When
we start exploring some phenomenon we devise a mathematical model for
it. In the initial stages one typically focuses on one or two most
accessible aspects of the problem. So one makes simplifying assumptions.
As understanding grows one starts to relax the simplifying assumptions
and the model grows more complex. A more complex problem will usually
need more complex software and more hardware resources. The more complex
problem will in turn lead to greater understanding … and thus the
positive feedback loop persists.</p>
<p>This process leads to several challenges that are unique to RS</p>
<ul>
<li>Many parts of the model and software system can be under
research</li>
<li>Requirements change throughout the lifecycle as knowledge grows</li>
<li>Real world is messy, it does not always yield to easy
componentization</li>
<li>Connectivity may become very complex</li>
<li>Access to hardware resources may demand efficiency in computation
that can be at odds with modularization</li>
</ul>
<p>An addition challenge is faced by scientific software in that
verification is complicated by floating point representation</p>
</div>
<div class="section level1">
<h1 id="solid-principles-pose-some-difficulties">SOLID Principles Pose Some Difficulties<a class="anchor" aria-label="anchor" href="#solid-principles-pose-some-difficulties"></a>
</h1>
<figure><img src="../fig/solid.png" alt="placeholder" class="figure mx-auto d-block"></figure><p>As shown in the figure, some of the SOLID principles do not work too
well with RS. For example the Single Responsibility princple can become
difficult to follow when there is a lot of lateral interaction become
components and computational efficiency demands fusion of operations. In
general greater understanding tends to lead to tighter coupling among
components. Open/closed principle run into problem when new insights
need invasive alteration of either the numerical method or specific
implementation details. To avoid unnecessary code duplication it may be
best to allow modification in the existing code. Lateral interactions
and tight coupling among interfaces can often make it difficult to
segregate interfaces, or to avoid dependency inversion.</p>
<p>We will see examples of some of these challengs that we work through
in the next section</p>
</div>
<div class="section level1">
<h1 id="additional-considerations-for-research-software">Additional Considerations for Research Software<a class="anchor" aria-label="anchor" href="#additional-considerations-for-research-software"></a>
</h1>
<figure><img src="../fig/RS.png" alt="placeholder" class="figure mx-auto d-block"></figure><p>Some additional considerations come into play for designing RS that
may not be needed for enterprise software. These are:</p>
<ul>
<li><p>Many RS projects have interdisciplinary teams, and many different
types of expertise are needed to put together the whole software. It is
not possible for all the team members to know all aspects of software
development. Some understanding of everything is necessary for needed
interactions, but in-depth knowledge of everything is simply not
possible. Therefore, the design should permit separation of concerns.
For example, in a multiphysics simulation software the design should be
such that the domain scientists can focus on their specific physics
model and its descretization, applied mathematicians can focus on
details of numerical methods and the performance engineers can work on
optimization.</p></li>
<li><p>In an earlier section about phases of design we had mentioned
“types” of components and binning them. A base framework that acts as
the substrate on which capabilities can grow is important for most RS.
Therefore, one should differentiate between components that need to
provide that stability, such as the discretization models, I/O,
book-keeping, and other infrastructural support, and those that provide
the needed capabilities such as physics models. The number of initial
interations of the three design phases differ for the different
component types. The former should be near final in design before the
latter begin to be embedded in the code. The physics components should
follow agile methodology much more diligently, and be nimble to be able
to incorporate new discoveries in the code rapidly.</p></li>
<li><p>During design thought should be given to extensibility build into
the framework and in other components.</p></li>
</ul>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Design principles need to be adapted for research software</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div></section><section id="aio-rs-example"><p>Content from <a href="rs-example.html">Research Software Design Example</a></p>
<hr>
<p>Last updated on 2025-01-02 |

        <a href="https://github.com/carpentries/workbench-template-md/edit/main/episodes/rs-example.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 0 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>FIXME</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>To work through an example of research software design</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="section level1">
<h1 id="more-complex-application-design-sedov-blast-wave">More Complex Application Design – Sedov Blast Wave<a class="anchor" aria-label="anchor" href="#more-complex-application-design-sedov-blast-wave"></a>
</h1>
<p><strong>Description</strong></p>
<p>Domain is initialized with pressure spike at the center of the
domain. The resulting shock moves out along the radial direction as an
expanding circle in two dimension, or a sphere in three dimension. High
resolution is needed only at and near the shock, so it is good to use
adaptive mesh refinement.</p>
<ul>
<li><strong>Requirements </strong></li>
<li>Adaptive mesh refinement
<ul>
<li>Easiest with finite volume methods</li>
</ul>
</li>
<li>Driver</li>
<li>I/O</li>
<li>Initial condition</li>
<li>Boundary condition</li>
<li>Shock Hydrodynamics solver</li>
<li>Ideal gas equation of state</li>
<li>Method of verification</li>
</ul>
<figure><img src="../fig/sedov.png" alt="placeholder" class="figure mx-auto d-block"></figure>
</div>
<div class="section level1">
<h1 id="deeper-dive-into-requirements">Deeper Dive into Requirements<a class="anchor" aria-label="anchor" href="#deeper-dive-into-requirements"></a>
</h1>
<p>Adaptive mesh refinement (AMR) implies that the spacing between
discretized points varies in different sections of the domain. AMR is a
method by which data and computation needed are compressed for a
computation without significant loss in fidelity. This is especially
true when large swaths of domain have little to no activity, while
localized portion need a very fine resolution. In Sedov blast wave
problem high resolution is needed only along the moving shock, the
remainder of the domain can have low resolution.</p>
<p>A standard way of using AMR is to divide domain into block where the
distance between points within a block is identical, but different
blocks may have different spacing. Blocks may go in and out of existence
depending upon how the needs for higher resolution move within the
domain. AMR is frequently used with explicit methods, where a block
surrounded by a halo of points filled from neighboring blocks form a
stand-alone computational domain. Physics operators cannot differentiate
between such block with halo cells from the entire domain. Therefore
decomposition into blocks serves as a very useful abstraction for
spatial discretization. When using AMR some additional machinery is
needed to reconcile physical quantities at fine-coarse boundaries.</p>
<p>The mathematical model used for solving Sedov blast wave problem is
Euler’s equations of hydrodynamics in a conservative mode. For these
eqations, equation of state (EOS) provides closure, and Riemann solution
is needed when there are discontinuited introduced by shocks. The reason
why many implementations of shock hydrodynamics use Sedov as their test
case is because a known analytical solution exists for how far the shoch
has travelled.</p>
<p>To summarize the requirements for solving the Sedov problem we need:
* AMR * halo cell filling included at fine-coarse boundaries through
interpolation * reconciliation of fluxes at fine-coarse boundaries *
regridding with solution evolution * Riemann solver at discontinuities *
EOS * Application of EOS during halo cell fill at fine-coarse boundaries
* Verification against known analytical solution for distance the shock
has traveled.</p>
</div>
<div class="section level1">
<h1 id="components">Components<a class="anchor" aria-label="anchor" href="#components"></a>
</h1>
<ul>
<li><strong>Deeper Dive into some Components</strong></li>
<li>Driver
<ul>
<li>Initialize the domain, supply initial conditions, setup I/O</li>
<li>Iterate over blocks</li>
<li>Implement connectivity</li>
</ul>
</li>
<li>Mesh
<ul>
<li>Owns data containers</li>
<li>Implements halo cell fill, including application of boundary
conditions</li>
<li>Reconciliation of quantities at fine-coarse block boundaries</li>
<li>Remesh when refinement patterns change</li>
</ul>
</li>
<li>I/O
<ul>
<li>Getting runtime parameters and possibly initial conditions</li>
<li>Writing checkpoint and analysis data</li>
</ul>
</li>
<li><strong>Binned Components</strong></li>
<li>Unchanging or slow changing infrastructure
<ul>
<li>Mesh</li>
<li>I/O</li>
<li>Driver</li>
<li>Comparison utility</li>
</ul>
</li>
<li>Components evolving with research – physics solvers
<ul>
<li>Initial and boundary conditions</li>
<li>Hydrodynamics</li>
<li>EOS</li>
</ul>
</li>
</ul>
</div>
<div class="section level1">
<h1 id="connectivity">Connectivity<a class="anchor" aria-label="anchor" href="#connectivity"></a>
</h1>
<figure><img src="../fig/conn3.png" alt="placeholder" class="figure mx-auto d-block"></figure>
</div>
<div class="section level1">
<h1 id="exploring-design-space-abstractions">Exploring design space – Abstractions<a class="anchor" aria-label="anchor" href="#exploring-design-space-abstractions"></a>
</h1>
<figure><img src="../fig/abstract.png" alt="placeholder" class="figure mx-auto d-block"></figure><p>We consider the possibilities of abstractions as a first step in
design. In this example we are looking at two types of decompositions:
spatial and functional. The spatial decomposition uses a block as
abstraction where for functional components there is no way to
differentiate between the block and the whole domain. Functional
decomposition assumes that physics operators are applied one at a time,
and therefore they form the functional decomposition. Once we have these
abstractions in place we have to consider other design considerations
described below</p>
<p><strong>Other Design Considerations</strong></p>
<ul>
<li><p>Data scoping – which data items are visible to which portions of
a component</p></li>
<li><p>Interfaces in the API – a minimum set of accessor and mutator
functions needed to provide the needed funcionality</p></li>
<li>
<p>For example consider the minimal Mesh API needed to provide
infrastructural support</p>
<ul>
<li>Initialize_mesh</li>
<li>Halo_fill</li>
<li>Access_to_data_containers</li>
<li>Reconcile_fluxes</li>
<li>Regrid</li>
</ul>
</li>
</ul>
</div>
<div class="section level1">
<h1 id="a-design-model-for-separation-of-concerns">A Design Model for Separation of Concerns<a class="anchor" aria-label="anchor" href="#a-design-model-for-separation-of-concerns"></a>
</h1>
<figure><img src="../fig/sepcon.png" alt="placeholder" class="figure mx-auto d-block"></figure>
</div>
<div class="section level1">
<h1 id="separation-of-concerns-applied">Separation of Concerns Applied<a class="anchor" aria-label="anchor" href="#separation-of-concerns-applied"></a>
</h1>
<figure><img src="../fig/sepconapplied.png" alt="placeholder" class="figure mx-auto d-block"></figure>
</div>
<div class="section level1">
<h1 id="takeaways-so-far">Takeaways So far<a class="anchor" aria-label="anchor" href="#takeaways-so-far"></a>
</h1>
<p>Differentiate between slow changing and fast changing components of
your code</p>
<p>Understand the requirements of your infrastructure</p>
<p>Implement separation of concerns</p>
<p>Design with portability, extensibility, reproducibility and
maintainability in mind</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>More complex requirements gathering and connectivity and
-implications on design</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div></section><section id="aio-heterogeneity-challenge"><p>Content from <a href="heterogeneity-challenge.html">Challenges of Heterogeneity</a></p>
<hr>
<p>Last updated on 2025-01-02 |

        <a href="https://github.com/carpentries/workbench-template-md/edit/main/episodes/heterogeneity-challenge.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 0 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What new challenges are posed heterogeneous computers</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>To understand the challenges to design posed by heterogeneity in
computers</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="section level1">
<h1 id="new-paradigm-because-of-platform-heterogeneity">New Paradigm Because of Platform Heterogeneity<a class="anchor" aria-label="anchor" href="#new-paradigm-because-of-platform-heterogeneity"></a>
</h1>
<p>Addition of hardware accelerators has added another dimension to
design considerations. Now the positive feedback loop cycle described
before also includes growing complexity due to different type of devices
in play. The figure below shows the axes of growing complexity for
software design.</p>
<figure><img src="../fig/scale.png" alt="" class="figure mx-auto d-block"></figure><p>Question - do the design principles change?</p>
<p>The answer is – not really</p>
<p>The details get more involved</p>
</div>
<div class="section level1">
<h1 id="go-back-to-the-design-model-for-separation-of-concerns">Go Back to the Design Model for Separation of Concerns<a class="anchor" aria-label="anchor" href="#go-back-to-the-design-model-for-separation-of-concerns"></a>
</h1>
<figure><img src="../fig/sepcon2.png" alt="" class="figure mx-auto d-block"></figure><p>Places where more thought has to be given is in the hierarchy of
decomposition and the interplay between finer-grain components. The
figure belows shows aspects of hardware and their impact on design
choices.</p>
</div>
<div class="section level1">
<h1 id="platform-heterogeneity">Platform Heterogeneity<a class="anchor" aria-label="anchor" href="#platform-heterogeneity"></a>
</h1>
<figure><img src="../fig/hetero.png" alt="" class="figure mx-auto d-block"></figure><p>And memory access models: unified memory / gpu-direct / explicit
transfer</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>More computations rely on accelerators, software design should be
cognizant of added constraints</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div></section><section id="aio-design-for-heterogeneity"><p>Content from <a href="design-for-heterogeneity.html">Design for Heterogeneity</a></p>
<hr>
<p>Last updated on 2025-01-02 |

        <a href="https://github.com/carpentries/workbench-template-md/edit/main/episodes/design-for-heterogeneity.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 0 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How should one design software for heterogeneous platforms</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>To understand how research software design needs to adapt for
heterogeneous platforms</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="section level1">
<h1 id="mechanisms-needed-by-the-code">Mechanisms Needed by the Code<a class="anchor" aria-label="anchor" href="#mechanisms-needed-by-the-code"></a>
</h1>
<figure><img src="../fig/mechanisms.png" alt="" class="figure mx-auto d-block"></figure>
</div>
<div class="section level1">
<h1 id="underlying-ideas-unification-of-computational-expressions">Underlying Ideas: Unification of Computational Expressions<a class="anchor" aria-label="anchor" href="#underlying-ideas-unification-of-computational-expressions"></a>
</h1>
<p><strong>Make the same code work on different devices</strong></p>
<ul>
<li>
<em>Same algorithm different data layouts or operation
sequence:</em>
<ul>
<li>A way to let compiler know that ”this” expression can be specialized
in many ways</li>
<li>Definition of specializations</li>
<li>Often done with template meta-programming</li>
</ul>
</li>
<li>
<em>More challenging if algorithms need to be fundamentally
different</em>
<ul>
<li>Support for alternatives</li>
</ul>
</li>
</ul>
</div>
<div class="section level1">
<h1 id="underlying-ideas-moving-work-and-data-to-the-target">Underlying Ideas: Moving Work and Data to the Target<a class="anchor" aria-label="anchor" href="#underlying-ideas-moving-work-and-data-to-the-target"></a>
</h1>
<p><strong>Parallelization Models</strong></p>
<ul>
<li>
<strong>Hierarchy in domain decomposition</strong>
<ul>
<li>Distributed memory model at node level – still very prevalent,
likely to remain so for a while</li>
<li>Also done with PGAS models – shared with locality being
important</li>
</ul>
</li>
</ul>
<p><strong>Assigning work within the node</strong></p>
<p>“Parallel For” or directives with unified memory</p>
<p>Directives or specific programming model for explicit data
movement</p>
<p><em>More complex data orchestration system for asynchronous
computation</em></p>
<p>Task based work distribution</p>
</div>
<div class="section level1">
<h1 id="underlying-ideas-mapping-work-to-targets">Underlying Ideas: Mapping Work to Targets<a class="anchor" aria-label="anchor" href="#underlying-ideas-mapping-work-to-targets"></a>
</h1>
<p><strong>This is how many abstraction layers work</strong></p>
<ul>
<li><p>Infer the structure of the code</p></li>
<li><p>Infer the map between algorithms and devices</p></li>
<li><p>Infer the data movements</p></li>
<li><p>Map computations to devices</p></li>
</ul>
<p>These are specified either through constructs or pragmas</p>
<p><strong>It can also be the end user who figures out the
mapping</strong></p>
<p><strong>In either case performance depends upon how well the mapping
is done</strong></p>
</div>
<div class="section level1">
<h1 id="features-and-abstractions-to-be-added-to-earlier-example">Features and Abstractions to be Added to Earlier Example<a class="anchor" aria-label="anchor" href="#features-and-abstractions-to-be-added-to-earlier-example"></a>
</h1>
<figure><img src="../fig/newabstractions.png" alt="" class="figure mx-auto d-block"></figure>
</div>
<div class="section level1">
<h1 id="mechanisms-needed-by-the-code-example-flash-x">Mechanisms Needed by the Code : Example Flash-X<a class="anchor" aria-label="anchor" href="#mechanisms-needed-by-the-code-example-flash-x"></a>
</h1>
<figure><img src="../fig/mechanismsflash.png" alt="" class="figure mx-auto d-block"></figure>
</div>
<div class="section level1">
<h1 id="construction-of-application-with-components-and-tools">Construction of Application with Components and Tools<a class="anchor" aria-label="anchor" href="#construction-of-application-with-components-and-tools"></a>
</h1>
<figure><img src="../fig/flashxschema.png" alt="" class="figure mx-auto d-block"></figure><div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>More separation of concerns and abstractions are needed</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div></section><section id="aio-conclusions"><p>Content from <a href="conclusions.html">Conclusions</a></p>
<hr>
<p>Last updated on 2025-01-02 |

        <a href="https://github.com/carpentries/workbench-template-md/edit/main/episodes/conclusions.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 0 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>None</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Summarize learning for the design module</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="section level1">
<h1 id="final-takeaways">Final takeaways<a class="anchor" aria-label="anchor" href="#final-takeaways"></a>
</h1>
<ul>
<li>Requirements gathering and intentional design are indispensable for
sustainable software development</li>
<li>Many books and online resources available for good design
principles</li>
<li>Research software poses additional constraints on design because of
its exploratory nature
<ul>
<li>Scientific research software has further challenges</li>
<li>High performance computing research software has even more
challenges</li>
<li>That are further exacerbated by the ubiquity of accelerators in
platforms</li>
</ul>
</li>
<li>Separation of concerns at various granularities, and abstractions
enable sustainable software design</li>
</ul>
</div>
<div class="section level1">
<h1 id="resources">Resources<a class="anchor" aria-label="anchor" href="#resources"></a>
</h1>
<p><a href="https://doi.org/10.6084/m9.figshare.13283714.v1" class="external-link">https://doi.org/10.6084/m9.figshare.13283714.v1</a></p>
<p><a href="https://www.exascaleproject.org/event/kokkos-class-series" class="external-link">https://www.exascaleproject.org/event/kokkos-class-series</a></p>
<p><a href="https://doi.org/10.1007/978-3-319-27308-2_19" class="external-link">A Design
Proposal for a Next Generation Scientific Software Framework</a></p>
<p><a href="https://bssw.io/events/webinar-software-design-for-longevity-with-performance-portability" class="external-link">Software
Design for Longevity with Performance Portability</a></p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Investing in design is critical for reliable, maintainable and
extensible software</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/carpentries/workbench-template-md/edit/main/README.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/carpentries/workbench-template-md/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/carpentries/workbench-template-md/" class="external-link">Source</a></p>
				<p><a href="https://github.com/carpentries/workbench-template-md/blob/main/CITATION.cff" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.10" class="external-link">sandpaper (0.16.10)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.7" class="external-link">pegboard (0.7.7)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.5" class="external-link">varnish (1.0.5)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://carpentries.github.io/workbench-template-md/instructor/aio.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://carpentries.github.io/workbench-template-md/instructor/aio.html",
  "identifier": "https://carpentries.github.io/workbench-template-md/instructor/aio.html",
  "dateCreated": "2025-01-02",
  "dateModified": "2025-01-02",
  "datePublished": "2025-01-02"
}

  </script><script>
		feather.replace();
	</script>
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

